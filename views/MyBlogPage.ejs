<%- include('partials/Header.ejs'); -%>

  <style>
    body {
      background-color: lightcyan;
    }

    .navbar-fixed {
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      /* Set a high z-index to ensure it's above other elements */
      background-color: white;
      /* Change the background color as needed */
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      /* Add a box shadow for a subtle effect */
    }

    /* Add padding to the body to avoid content being hidden under the fixed navbar */
    body.with-fixed-navbar {
      padding-top: 60px;
      /* Adjust the value based on the height of your navbar */
    }

    .search {
      width: 40%;
      position: relative;
      right: 40px;
    }
  </style>

  <div>

    <br /><br /><br />
    <p style="position:absolute; left: 20px; font-size: 20px; color: blueviolet;">Hello, <%= userName %>!</p>

    <div style="display: flex; justify-content: flex-end; margin-right: 10px;">
      <a data-mdb-ripple-init type="button" class="btn btn-warning me-3" style="font-size: 16px;"
        href="/createBlog/<%= userId%>">
        Create new post
      </a>
    </div>

    <h3 style="text-align: center; margin-top: 10px; margin-bottom: 40px;">Your Posts</h3>

    <div>
      <% for(let blog of blogs) { %>
        <div style="display: flex; justify-content: center; margin-top: 20px; margin-bottom: 20px;">
          <div class="card mb-3" style="width: 50%;">
            <div class="row g-0">
              <div class="col-md-4">
                <img src="data:image/png;base64, <%= blog.image.toString('base64') %>" class="img-fluid rounded-start"
                  alt="blog image" style="object-fit: cover; height: 100%; height: 200px; width: 300px;" />
              </div>
              <div class="col-md-8">
                <div class="card-body">
                  <h5 class="card-title">
                    <%= blog.title %>
                  </h5>
                  <p class="card-text">
                    Type: <%= blog.type%>
                  </p>
                  <p class="card-text">
                    <small class="text-muted">Date: <%= new Date(blog.date_and_time).toLocaleString('en-US', {
                        weekday: 'long' , year: 'numeric' , month: 'numeric' , day: 'numeric' , hour: 'numeric' ,
                        minute: 'numeric' , second: 'numeric' , hour12: true })%></small><br />
                  </p>
                  <a style="color: blue" href="/myBlog_displayDetail/<%= blog.id%>">Read more ➡️</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <%}%>
    </div>
  </div>